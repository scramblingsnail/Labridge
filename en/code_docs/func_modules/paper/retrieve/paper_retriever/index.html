
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../prompt/synthesize/synthesize/">
      
      
        <link rel="next" href="../temporary_paper_retriever/">
      
      
      <link rel="icon" href="../../../../../../assets/icon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Paper retriever - Labridge</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#labridge.func_modules.paper.retrieve.paper_retriever" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../" title="Labridge" class="md-header__button md-logo" aria-label="Labridge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Labridge
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Paper retriever
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../../../../code_docs/func_modules/paper/retrieve/paper_retriever/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/scramblingsnail/Labridge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Labridge
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../function_modules/paper/" class="md-tabs__link">
          
  
    
  
  Function Module

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../agent_tools/prompt_framework/" class="md-tabs__link">
          
  
    
  
  Agent & Tools

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../deployment/" class="md-tabs__link">
          
  
    
  
  Deployment

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../interface/" class="md-tabs__link">
          
  
    
  
  User Interface

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../demonstration/" class="md-tabs__link">
          
  
    
  
  Demonstration

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../accounts/super_users/" class="md-tabs__link">
          
  
    
  
  Code Docs

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../" title="Labridge" class="md-nav__button md-logo" aria-label="Labridge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    Labridge
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/scramblingsnail/Labridge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Labridge
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Function Module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Function Module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/paper/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Papers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/paper/shared_papers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Shared papers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            Shared papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/shared_papers/parse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parsing and medata extraction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/shared_papers/store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Construction of shared paper database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/shared_papers/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shared paper database retrieval
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/paper/temporary_papers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Personal recent papers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            Personal recent papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/temporary_papers/store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure of personal recent paper database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/temporary_papers/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieval of personal recent papers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3_4" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3_4" id="__nav_2_1_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Download
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3_4">
            <span class="md-nav__icon md-icon"></span>
            Download
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/paper/temporary_papers/download/arXiv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search &amp; Download from arXiv
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/chat_history/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Chat history
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Chat history
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/chat_history/short-term_history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Short-term memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Long-term history
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            Long-term history
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/chat_history/long-term_history/store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interaction log storage structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/chat_history/long-term_history/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interaction Log Retrieval
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/experiment_log/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Experiment logs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Experiment logs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/experiment_log/personal_experiment/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Personal experiment logs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Personal experiment logs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/experiment_log/personal_experiment/store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage structure of personal experimental logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/experiment_log/personal_experiment/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Personal experiment log retrieval
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/experiment_log/shared_experiment/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Shared experiment logs
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Shared experiment logs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/instrument/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Instruments
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Instruments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/instrument/store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Store
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/instrument/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../function_modules/reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    References
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/reference/instrument_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference instrument document
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../function_modules/reference/paper_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference paper
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Agent & Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Agent & Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/prompt_framework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent prompt framework
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../agent_tools/tools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Base
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            Base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/base/tool_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base classes of tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/base/tool_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool logs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chat history
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Chat history
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/chat_history/chat_memory_retrieve_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SharedPaperRetrieverTool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment log
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Experiment log
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/experiment_log/create_new_experiment_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CreateNewExperimentLogTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/experiment_log/experiment_log_retrieve_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExperimentLogRetrieveTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/experiment_log/record_experiment_log_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecordExperimentLogTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/experiment_log/set_current_experiment_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SetCurrentExperimentTool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5" id="__nav_3_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interact
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            Interact
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/interact/collect_and_authorize_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CollectAndAuthorizeTool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_6" >
        
          
          <label class="md-nav__link" for="__nav_3_2_6" id="__nav_3_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Shared papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_6">
            <span class="md-nav__icon md-icon"></span>
            Shared papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/shared_papers/shared_paper_retrieve_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SharedPaperRetrieverTool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_7" >
        
          
          <label class="md-nav__link" for="__nav_3_2_7" id="__nav_3_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Temporary papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_7">
            <span class="md-nav__icon md-icon"></span>
            Temporary papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/temporary_papers/add_new_recent_paper_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AddNewRecentPaperTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/temporary_papers/arxiv_search_download_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ArXivSearchDownloadTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/temporary_papers/recent_paper_retrieve_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecentPaperRetrieveTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../agent_tools/tools/temporary_papers/recent_paper_summarize_tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecentPaperSummarizeTool
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../deployment/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../interface/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Interface
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../interface/server-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server-Client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../interface/app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android APP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../interface/web_ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web UI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../demonstration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Demonstration
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Demonstration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Paper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/paper/paper_download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper download
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/paper/recent_papers_qa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recent Paper QA.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/paper/shared_papers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shared papers.
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment logs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Experiment logs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/experiment_log/record_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record experiment logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/experiment_log/retrieve_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve in experiment log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instrument
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Instrument
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/instrument/instrument_docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instrument QA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../demonstration/instrument/instrument_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instrument operations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer mode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Developer mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demonstration/instrument/comment_mode.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../demonstration/instrument/instruct_mode.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Code Docs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Code Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Accounts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Accounts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../accounts/super_users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super users
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../accounts/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Agent
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/chat_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2_2" id="__nav_7_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chat Msg
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_2">
            <span class="md-nav__icon md-icon"></span>
            Chat Msg
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/chat_msg/msg_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Msg types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_2_3" id="__nav_7_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ReAct
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_3">
            <span class="md-nav__icon md-icon"></span>
            ReAct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/react/prompt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/react/react/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/react/react_chat_format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React chat format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../agent/react/react_step/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React step
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Callback
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Callback
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1" id="__nav_7_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Base
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1">
            <span class="md-nav__icon md-icon"></span>
            Base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/base/operation_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operation base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/base/operation_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operation log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_2" >
        
          
          <label class="md-nav__link" for="__nav_7_3_2" id="__nav_7_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment_log
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_2">
            <span class="md-nav__icon md-icon"></span>
            Experiment_log
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/experiment_log/new_experiment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New experiment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/experiment_log/set_current_experiment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set current experiment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_3" id="__nav_7_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_3">
            <span class="md-nav__icon md-icon"></span>
            Paper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/paper/add_recent_paper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add recent paper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/paper/paper_download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper download
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../callback/paper/paper_summarize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper summarize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Common
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_1" >
        
          
          <label class="md-nav__link" for="__nav_7_4_1" id="__nav_7_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prompt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_1">
            <span class="md-nav__icon md-icon"></span>
            Prompt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/prompt/llm_doc_choice_select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llm doc choice select
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2" >
        
          
          <label class="md-nav__link" for="__nav_7_4_2" id="__nav_7_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Query_engine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_2">
            <span class="md-nav__icon md-icon"></span>
            Query_engine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/query_engine/query_engines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query engines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_3" >
        
          
          <label class="md-nav__link" for="__nav_7_4_3" id="__nav_7_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_3">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/utils/chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../common/utils/time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" checked>
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Func_modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Func_modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_1" >
        
          
          <label class="md-nav__link" for="__nav_7_5_1" id="__nav_7_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instrument
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_1">
            <span class="md-nav__icon md-icon"></span>
            Instrument
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_1_1" >
        
          
          <label class="md-nav__link" for="__nav_7_5_1_1" id="__nav_7_5_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prompt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            Prompt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrument/prompt/llm_instrument_choice_select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llm instrument choice select
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_1_2" id="__nav_7_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            Retrieve
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrument/retrieve/instrument_retriever/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instrument retriever
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_7_5_1_3" id="__nav_7_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../instrument/store/instrument_store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instrument store
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_2" id="__nav_7_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Memory
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_2">
            <span class="md-nav__icon md-icon"></span>
            Memory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_2_2" id="__nav_7_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chat
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Chat
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/chat/chat_memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/chat/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/chat/short_memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Short memory
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_5_2_3" id="__nav_7_5_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/experiment/experiment_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory/experiment/retrieve_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3" checked>
        
          
          <label class="md-nav__link" for="__nav_7_5_3" id="__nav_7_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_5_3">
            <span class="md-nav__icon md-icon"></span>
            Paper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_1" id="__nav_7_5_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Download
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            Download
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../download/arxiv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arxiv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../download/async_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_2" id="__nav_7_5_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parse
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_2">
            <span class="md-nav__icon md-icon"></span>
            Parse
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/paper_reader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper reader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_2_2" id="__nav_7_5_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extractors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_5_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            Extractors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/extractors/metadata_extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata extract
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/extractors/source_analyze/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source analyze
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_2_3" id="__nav_7_5_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Parsers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_5_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Parsers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/parsers/auto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/parsers/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/parsers/default_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Default parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/parsers/ieee_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ieee parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/parsers/nature_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nature parser
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_3" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_3" id="__nav_7_5_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prompt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_3">
            <span class="md-nav__icon md-icon"></span>
            Prompt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_3_1" id="__nav_7_5_3_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_5_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt/store/dir_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dir summary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_3_2" id="__nav_7_5_3_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Synthesize
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_5_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Synthesize
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt/synthesize/paper_summarize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper summarize
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prompt/synthesize/synthesize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synthesize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_7_5_3_4" id="__nav_7_5_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_5_3_4">
            <span class="md-nav__icon md-icon"></span>
            Retrieve
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Paper retriever
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Paper retriever
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever" class="md-nav__link">
    <span class="md-ellipsis">
      paper_retriever
    </span>
  </a>
  
    <nav class="md-nav" aria-label="paper_retriever">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever" class="md-nav__link">
    <span class="md-ellipsis">
      PaperRetriever
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperRetriever">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.aretrieve" class="md-nav__link">
    <span class="md-ellipsis">
      aretrieve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.from_storage" class="md-nav__link">
    <span class="md-ellipsis">
      from_storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.get_ref_info" class="md-nav__link">
    <span class="md-ellipsis">
      get_ref_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.retrieve" class="md-nav__link">
    <span class="md-ellipsis">
      retrieve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector" class="md-nav__link">
    <span class="md-ellipsis">
      PaperSummaryLLMPostSelector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperSummaryLLMPostSelector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.aselect" class="md-nav__link">
    <span class="md-ellipsis">
      aselect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../temporary_paper_retriever/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporary paper retriever
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_5" id="__nav_7_5_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Store
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_5">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/paper_store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper store
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../store/temporary_store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporary store
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_3_6" >
        
          
          <label class="md-nav__link" for="__nav_7_5_3_6" id="__nav_7_5_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Synthesizer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_3_6">
            <span class="md-nav__icon md-icon"></span>
            Synthesizer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../synthesizer/summarize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summarize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_4" >
        
          
          <label class="md-nav__link" for="__nav_7_5_4" id="__nav_7_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/instrument/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instrument
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/paper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interact
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Interact
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_1" >
        
          
          <label class="md-nav__link" for="__nav_7_6_1" id="__nav_7_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Authorize
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6_1">
            <span class="md-nav__icon md-icon"></span>
            Authorize
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/authorize/authorize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authorize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_2" >
        
          
          <label class="md-nav__link" for="__nav_7_6_2" id="__nav_7_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Collect
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6_2">
            <span class="md-nav__icon md-icon"></span>
            Collect
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_2_1" >
        
          
          <label class="md-nav__link" for="__nav_7_6_2_1" id="__nav_7_6_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Collector
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_6_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6_2_1">
            <span class="md-nav__icon md-icon"></span>
            Collector
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/collector/common_collector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common collector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/collector/select_collector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Select collector
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_2_2" >
        
          
          <label class="md-nav__link" for="__nav_7_6_2_2" id="__nav_7_6_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Manager
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_6_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6_2_2">
            <span class="md-nav__icon md-icon"></span>
            Manager
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/manager/collect_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collect manager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6_2_3" >
        
          
          <label class="md-nav__link" for="__nav_7_6_2_3" id="__nav_7_6_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_6_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6_2_3">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/types/common_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/types/info_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Info base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/types/select_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Select info
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interact/collect/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interface/http_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Http server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../interface/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Models
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8_1" >
        
          
          <label class="md-nav__link" for="__nav_7_8_1" id="__nav_7_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Local
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8_1">
            <span class="md-nav__icon md-icon"></span>
            Local
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/local/mindspore_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mindspore models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8_2" >
        
          
          <label class="md-nav__link" for="__nav_7_8_2" id="__nav_7_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Remote
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8_2">
            <span class="md-nav__icon md-icon"></span>
            Remote
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/remote/remote_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../models/remote/remote_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_1" >
        
          
          <label class="md-nav__link" for="__nav_7_9_1" id="__nav_7_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Base
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_1">
            <span class="md-nav__icon md-icon"></span>
            Base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/base/function_base_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function base tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/base/tool_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/base/tool_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tool log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_2" >
        
          
          <label class="md-nav__link" for="__nav_7_9_2" id="__nav_7_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Common
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_2">
            <span class="md-nav__icon md-icon"></span>
            Common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/common/date_time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Date time
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_3" >
        
          
          <label class="md-nav__link" for="__nav_7_9_3" id="__nav_7_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instrument
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_3">
            <span class="md-nav__icon md-icon"></span>
            Instrument
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/instrument/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_4" >
        
          
          <label class="md-nav__link" for="__nav_7_9_4" id="__nav_7_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interact
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_4">
            <span class="md-nav__icon md-icon"></span>
            Interact
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/interact/collect_and_authorize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collect and authorize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_5" >
        
          
          <label class="md-nav__link" for="__nav_7_9_5" id="__nav_7_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Memory
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_5">
            <span class="md-nav__icon md-icon"></span>
            Memory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_5_1" >
        
          
          <label class="md-nav__link" for="__nav_7_9_5_1" id="__nav_7_9_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chat
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_9_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_5_1">
            <span class="md-nav__icon md-icon"></span>
            Chat
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/memory/chat/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_5_2" >
        
          
          <label class="md-nav__link" for="__nav_7_9_5_2" id="__nav_7_9_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_9_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_5_2">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/memory/experiment/insert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Insert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/memory/experiment/retrieve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieve
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_6" >
        
          
          <label class="md-nav__link" for="__nav_7_9_6" id="__nav_7_9_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Paper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_6">
            <span class="md-nav__icon md-icon"></span>
            Paper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_6_1" >
        
          
          <label class="md-nav__link" for="__nav_7_9_6_1" id="__nav_7_9_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Download
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_9_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_6_1">
            <span class="md-nav__icon md-icon"></span>
            Download
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/download/arxiv_download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arxiv download
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_6_2" >
        
          
          <label class="md-nav__link" for="__nav_7_9_6_2" id="__nav_7_9_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Shared_papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_9_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_6_2">
            <span class="md-nav__icon md-icon"></span>
            Shared_papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/shared_papers/query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/shared_papers/retriever/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retriever
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/shared_papers/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9_6_3" >
        
          
          <label class="md-nav__link" for="__nav_7_9_6_3" id="__nav_7_9_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Temporary_papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_9_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9_6_3">
            <span class="md-nav__icon md-icon"></span>
            Temporary_papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/temporary_papers/insert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Insert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/temporary_papers/paper_retriever/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper retriever
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/paper/temporary_papers/paper_summarize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paper summarize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tools/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever" class="md-nav__link">
    <span class="md-ellipsis">
      paper_retriever
    </span>
  </a>
  
    <nav class="md-nav" aria-label="paper_retriever">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever" class="md-nav__link">
    <span class="md-ellipsis">
      PaperRetriever
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperRetriever">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.aretrieve" class="md-nav__link">
    <span class="md-ellipsis">
      aretrieve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.from_storage" class="md-nav__link">
    <span class="md-ellipsis">
      from_storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.get_ref_info" class="md-nav__link">
    <span class="md-ellipsis">
      get_ref_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.retrieve" class="md-nav__link">
    <span class="md-ellipsis">
      retrieve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector" class="md-nav__link">
    <span class="md-ellipsis">
      PaperSummaryLLMPostSelector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperSummaryLLMPostSelector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.aselect" class="md-nav__link">
    <span class="md-ellipsis">
      aselect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/scramblingsnail/Labridge/edit/master/docs/en/code_docs/func_modules/paper/retrieve/paper_retriever.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/scramblingsnail/Labridge/raw/master/docs/en/code_docs/func_modules/paper/retrieve/paper_retriever.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>Paper retriever</h1>

<div class="doc doc-object doc-module">



<h2 id="labridge.func_modules.paper.retrieve.paper_retriever" class="doc doc-heading">
            <code>labridge.func_modules.paper.retrieve.paper_retriever</code>


<a href="#labridge.func_modules.paper.retrieve.paper_retriever" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever" class="doc doc-heading">
            <code>labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever</code>


<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>We use hybrid, multi-level retrieving methods.</p>
<p>In the first step, the retriever retrieve the vector index and the summary index to get candidate papers.
These two index storages are constructed in the class <code>PaperStorage</code>, refer to its docstring for details.</p>
<ul>
<li>In the vector index, the paper contents except for references are chunked and embedded. The retriever get
<code>vector_similarity_top_k</code> most relevant text chunk from the vector index, then we collect their <code>ref_doc_id</code>.</li>
<li>In the summary index, each paper is summarized. Both the summary text and the paper chunks are stored.
The retriever search in the summary texts to get <code>summary_similarity_top_k</code> most relevant summaries of docs.
Similarly, we collect their <code>doc_id</code>.</li>
</ul>
<p>We have collected several relevant papers in the first step. Subsequently, we use the <code>PaperSummaryLLMPostSelector</code>
to rank these papers according to the relevance between their summaries and the query, the relevance scores are
given by the LLM. Among these papers, the LLM selects <code>docs_top_k</code> most relevant papers.</p>
<p>Finally, we conduct secondary_retrieve among the text chunks of these luckily selected papers.
Note that, in this period, we hide all metadata of these nodes from the LLM and the embed model for the sake of
grained retrieving. At last, we will get <code>re_retrieve_top_k</code> text chunks.</p>
<p>If the <code>final_use_context</code> is set to True, the prev_node and next_node of each node will be added.
If the <code>final_use_summary</code> is set to True, the summary_node corresponding to each_node's doc will be added.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>llm</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>the employed LLM.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="llama_index.core.llms.LLM">LLM</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>paper_vector_retriever</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>the retriever based on the VectorIndex in paper storage.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="llama_index.core.retrievers.VectorIndexRetriever">VectorIndexRetriever</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>paper_summary_retriever</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>the retriever based on the DocumentSummaryIndex in the paper storage.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="llama_index.core.indices.document_summary.retrievers.DocumentSummaryIndexEmbeddingRetriever">DocumentSummaryIndexEmbeddingRetriever</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>docs_top_k</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>the number of most relevant docs in the second retrieving step.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>2</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>re_retrieve_top_k</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>the number of the finally retrieved nodes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>5</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>final_use_context</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Whether to add the context nodes of each final node.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>final_use_summary</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Whether to add the summary node of each final node's doc.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PaperRetriever</span><span class="p">:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	We use hybrid, multi-level retrieving methods.</span>

<span class="sd">	In the first step, the retriever retrieve the vector index and the summary index to get candidate papers.</span>
<span class="sd">	These two index storages are constructed in the class `PaperStorage`, refer to its docstring for details.</span>

<span class="sd">	- In the vector index, the paper contents except for references are chunked and embedded. The retriever get</span>
<span class="sd">	`vector_similarity_top_k` most relevant text chunk from the vector index, then we collect their `ref_doc_id`.</span>
<span class="sd">	- In the summary index, each paper is summarized. Both the summary text and the paper chunks are stored.</span>
<span class="sd">	The retriever search in the summary texts to get `summary_similarity_top_k` most relevant summaries of docs.</span>
<span class="sd">	Similarly, we collect their `doc_id`.</span>

<span class="sd">	We have collected several relevant papers in the first step. Subsequently, we use the `PaperSummaryLLMPostSelector`</span>
<span class="sd">	to rank these papers according to the relevance between their summaries and the query, the relevance scores are</span>
<span class="sd">	given by the LLM. Among these papers, the LLM selects `docs_top_k` most relevant papers.</span>

<span class="sd">	Finally, we conduct secondary_retrieve among the text chunks of these luckily selected papers.</span>
<span class="sd">	Note that, in this period, we hide all metadata of these nodes from the LLM and the embed model for the sake of</span>
<span class="sd">	grained retrieving. At last, we will get `re_retrieve_top_k` text chunks.</span>

<span class="sd">	If the `final_use_context` is set to True, the prev_node and next_node of each node will be added.</span>
<span class="sd">	If the `final_use_summary` is set to True, the summary_node corresponding to each_node&#39;s doc will be added.</span>

<span class="sd">	Args:</span>
<span class="sd">		llm (LLM): the employed LLM.</span>
<span class="sd">		paper_vector_retriever (VectorIndexRetriever): the retriever based on the VectorIndex in paper storage.</span>
<span class="sd">		paper_summary_retriever (DocumentSummaryIndexEmbeddingRetriever):</span>
<span class="sd">			the retriever based on the DocumentSummaryIndex in the paper storage.</span>
<span class="sd">		docs_top_k (int): the number of most relevant docs in the second retrieving step.</span>
<span class="sd">		re_retrieve_top_k (int): the number of the finally retrieved nodes.</span>
<span class="sd">		final_use_context (bool): Whether to add the context nodes of each final node.</span>
<span class="sd">		final_use_summary (bool): Whether to add the summary node of each final node&#39;s doc.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">llm</span><span class="p">:</span> <span class="n">LLM</span><span class="p">,</span>
		<span class="n">paper_vector_retriever</span><span class="p">:</span> <span class="n">VectorIndexRetriever</span><span class="p">,</span>
		<span class="n">paper_summary_retriever</span><span class="p">:</span> <span class="n">DocumentSummaryIndexEmbeddingRetriever</span><span class="p">,</span>
		<span class="n">docs_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">re_retrieve_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
		<span class="n">final_use_context</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
		<span class="n">final_use_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
	<span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span> <span class="o">=</span> <span class="n">paper_vector_retriever</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span> <span class="o">=</span> <span class="n">paper_summary_retriever</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span> <span class="o">=</span> <span class="n">PaperSummaryLLMPostSelector</span><span class="p">(</span>
			<span class="n">summary_nodes</span><span class="o">=</span><span class="p">[],</span>
			<span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
			<span class="n">choice_top_k</span><span class="o">=</span><span class="n">docs_top_k</span><span class="p">,</span>
		<span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">re_retrieve_top_k</span> <span class="o">=</span> <span class="n">re_retrieve_top_k</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">final_use_context</span> <span class="o">=</span> <span class="n">final_use_context</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">final_use_summary</span> <span class="o">=</span> <span class="n">final_use_summary</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">summary_id_to_node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">summary_id_to_node_ids</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
			<span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">parent</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>

	<span class="k">def</span> <span class="nf">_exclude_all_llm_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">BaseNode</span><span class="p">):</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot; Hidden all metadata of a node to LLM. &quot;&quot;&quot;</span>
		<span class="n">node</span><span class="o">.</span><span class="n">excluded_llm_metadata_keys</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

	<span class="k">def</span> <span class="nf">_exclude_all_embedding_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">BaseNode</span><span class="p">):</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot; Hidden all metadata of a node to the embed model. &quot;&quot;&quot;</span>
		<span class="n">node</span><span class="o">.</span><span class="n">excluded_embed_metadata_keys</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

	<span class="k">def</span> <span class="nf">get_ref_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PaperInfo</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Get the reference paper infos</span>

<span class="sd">		Returns:</span>
<span class="sd">			List[PaperInfo]: The reference paper infos in answering.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">doc_ids</span><span class="p">,</span> <span class="n">doc_titles</span><span class="p">,</span> <span class="n">doc_possessors</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
		<span class="n">ref_infos</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">node_score</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span><span class="p">:</span>
			<span class="n">ref_doc_id</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span>
			<span class="k">if</span> <span class="n">ref_doc_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">doc_ids</span><span class="p">:</span>
				<span class="n">doc_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ref_doc_id</span><span class="p">)</span>
				<span class="n">title</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_TITLE</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ref_doc_id</span>
				<span class="n">possessor</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_POSSESSOR</span><span class="p">)</span>
				<span class="n">rel_path</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_REL_FILE_PATH</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">rel_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
					<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid database.&quot;</span><span class="p">)</span>
				<span class="n">paper_info</span> <span class="o">=</span> <span class="n">PaperInfo</span><span class="p">(</span>
					<span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
					<span class="n">possessor</span><span class="o">=</span><span class="n">possessor</span><span class="p">,</span>
					<span class="n">file_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">/</span> <span class="n">rel_path</span><span class="p">),</span>
				<span class="p">)</span>
				<span class="n">ref_infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_info</span><span class="p">)</span>

				<span class="n">doc_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
				<span class="n">doc_possessors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">possessor</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">ref_infos</span>

	<span class="k">def</span> <span class="nf">_secondary_retrieve</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">final_doc_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Secondary retrieve among the nodes of the selected papers.</span>

<span class="sd">		Args:</span>
<span class="sd">			final_doc_ids (List[str]): the doc_ids of the selected papers.</span>
<span class="sd">			item_to_be_retrieved (str): the retrieving items.</span>

<span class="sd">		Returns:</span>
<span class="sd">			the summary_nodes and the content_nodes:</span>

<span class="sd">				- summary_nodes (List[NodeWithScore]): the summary nodes of these docs.</span>
<span class="sd">				- content_nodes (List[NodeWithScore]): the retrieved nodes among the chunked nodes of these docs.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="c1"># get all nodes of these docs.</span>
		<span class="n">summary_nodes</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">all_doc_nodes</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">final_doc_ids</span><span class="p">:</span>
			<span class="n">summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span>
			<span class="n">summary_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">summary_id</span><span class="p">)</span>
			<span class="c1"># exclude metadata of summary nodes for llm using.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_llm_metadata</span><span class="p">(</span><span class="n">summary_node</span><span class="p">)</span>
			<span class="n">summary_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeWithScore</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">summary_node</span><span class="p">))</span>

			<span class="c1"># all doc nodes.</span>
			<span class="n">doc_node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">summary_id_to_node_ids</span><span class="p">[</span><span class="n">summary_id</span><span class="p">]</span>
			<span class="n">doc_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">doc_node_ids</span><span class="p">)</span>
			<span class="c1"># exclude metadata of content nodes</span>
			<span class="k">for</span> <span class="n">doc_node</span> <span class="ow">in</span> <span class="n">doc_nodes</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_llm_metadata</span><span class="p">(</span><span class="n">doc_node</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_embedding_metadata</span><span class="p">(</span><span class="n">doc_node</span><span class="p">)</span>
			<span class="n">all_doc_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">doc_nodes</span><span class="p">)</span>

		<span class="n">content_index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">all_doc_nodes</span><span class="p">,</span> <span class="n">embed_model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">_embed_model</span><span class="p">)</span>
		<span class="n">content_retriever</span> <span class="o">=</span> <span class="n">content_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">re_retrieve_top_k</span><span class="p">)</span>
		<span class="n">content_nodes</span> <span class="o">=</span> <span class="n">content_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span>

	<span class="k">async</span> <span class="k">def</span> <span class="nf">_asecondary_retrieve</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">final_doc_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Asynchronous secondary retrieve among the nodes of the selected papers.</span>

<span class="sd">		Args:</span>
<span class="sd">			final_doc_ids (List[str]): the doc_ids of the selected papers.</span>
<span class="sd">			item_to_be_retrieved (str): the retrieving items.</span>

<span class="sd">		Returns:</span>
<span class="sd">			the summary_nodes and the content_nodes:</span>

<span class="sd">				- summary_nodes (List[NodeWithScore]): the summary nodes of these docs.</span>
<span class="sd">				- content_nodes (List[NodeWithScore]): the retrieved nodes among the chunked nodes of these docs.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">summary_nodes</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">all_doc_nodes</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">final_doc_ids</span><span class="p">:</span>
			<span class="n">summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span>
			<span class="n">summary_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">summary_id</span><span class="p">)</span>
			<span class="c1"># exclude metadata of summary nodes for llm using.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_llm_metadata</span><span class="p">(</span><span class="n">summary_node</span><span class="p">)</span>
			<span class="n">summary_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">NodeWithScore</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">summary_node</span><span class="p">))</span>

			<span class="c1"># all doc nodes.</span>
			<span class="n">doc_node_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">summary_id_to_node_ids</span><span class="p">[</span><span class="n">summary_id</span><span class="p">]</span>
			<span class="n">doc_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">doc_node_ids</span><span class="p">)</span>
			<span class="c1"># exclude metadata of content nodes</span>
			<span class="k">for</span> <span class="n">doc_node</span> <span class="ow">in</span> <span class="n">doc_nodes</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_llm_metadata</span><span class="p">(</span><span class="n">doc_node</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_embedding_metadata</span><span class="p">(</span><span class="n">doc_node</span><span class="p">)</span>
			<span class="n">all_doc_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">doc_nodes</span><span class="p">)</span>

		<span class="n">content_index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">all_doc_nodes</span><span class="p">,</span> <span class="n">embed_model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">_embed_model</span><span class="p">)</span>
		<span class="n">content_retriever</span> <span class="o">=</span> <span class="n">content_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">re_retrieve_top_k</span><span class="p">)</span>
		<span class="n">content_nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">content_retriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span>

	<span class="k">def</span> <span class="nf">_get_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Get the 1-hop context nodes of each content node retrieved in the secondary retrieving.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">content_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">content_nodes</span><span class="p">]</span>
		<span class="n">extra_ids</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">content_nodes</span><span class="p">:</span>
			<span class="n">prev_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">prev_node</span>
			<span class="n">next_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">next_node</span>
			<span class="k">if</span> <span class="n">prev_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">prev_id</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">prev_node</span><span class="o">.</span><span class="n">node_id</span>
				<span class="k">if</span> <span class="n">prev_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">content_ids</span><span class="p">:</span>
					<span class="n">extra_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prev_id</span><span class="p">)</span>
					<span class="n">content_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prev_id</span><span class="p">)</span>

			<span class="k">if</span> <span class="n">next_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">next_id</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">next_node</span><span class="o">.</span><span class="n">node_id</span>
				<span class="k">if</span> <span class="n">next_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">content_ids</span><span class="p">:</span>
					<span class="n">extra_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_id</span><span class="p">)</span>
					<span class="n">content_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_id</span><span class="p">)</span>

		<span class="n">context_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">extra_ids</span><span class="p">)</span>
		<span class="n">context_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">NodeWithScore</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">context_nodes</span><span class="p">]</span>
		<span class="c1"># exclude metadata in LLM using.</span>
		<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">context_nodes</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_exclude_all_llm_metadata</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">context_nodes</span>

	<span class="nd">@dispatcher</span><span class="o">.</span><span class="n">span</span>
	<span class="k">def</span> <span class="nf">retrieve</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		This tool is used to retrieve academic information in the Laboratory&#39;s shared paper database.</span>
<span class="sd">		It is useful to help answer the user&#39;s academic questions.</span>

<span class="sd">		Args:</span>
<span class="sd">			item_to_be_retrieved (str): The things that you want to retrieve in the shared paper database.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="c1"># This docstring is used as the tool description.</span>
		<span class="n">vector_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
		<span class="n">summary_chunk_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

		<span class="n">hybrid_doc_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">summary_chunk_nodes</span> <span class="o">+</span> <span class="n">vector_nodes</span><span class="p">:</span>
			<span class="n">hybrid_doc_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span><span class="p">)</span>

		<span class="n">doc_id_to_summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span>
		<span class="n">hybrid_summary_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">hybrid_doc_ids</span><span class="p">]</span>
		<span class="n">doc_summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">hybrid_summary_ids</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">_summary_nodes</span> <span class="o">=</span> <span class="n">doc_summary_nodes</span>
		<span class="n">final_doc_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

		<span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_retrieve</span><span class="p">(</span>
			<span class="n">final_doc_ids</span><span class="o">=</span><span class="n">final_doc_ids</span><span class="p">,</span>
			<span class="n">item_to_be_retrieved</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
		<span class="p">)</span>

		<span class="n">final_nodes</span> <span class="o">=</span> <span class="n">content_nodes</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_summary</span><span class="p">:</span>
			<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>

		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_context</span><span class="p">:</span>
			<span class="n">context_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_context</span><span class="p">(</span><span class="n">content_nodes</span><span class="p">)</span>
			<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">context_nodes</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="n">final_nodes</span>
		<span class="k">return</span> <span class="n">final_nodes</span>

	<span class="nd">@dispatcher</span><span class="o">.</span><span class="n">span</span>
	<span class="k">async</span> <span class="k">def</span> <span class="nf">aretrieve</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		This tool is used to retrieve academic information in the Laboratory&#39;s shared paper database, which contains</span>
<span class="sd">		abundant research papers. It is useful to help you to answer the user&#39;s academic questions.</span>

<span class="sd">		Args:</span>
<span class="sd">			item_to_be_retrieved (str): The things that you want to retrieve in the shared paper database.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">vector_nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
		<span class="n">summary_chunk_nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

		<span class="n">hybrid_doc_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">summary_chunk_nodes</span> <span class="o">+</span> <span class="n">vector_nodes</span><span class="p">:</span>
			<span class="n">hybrid_doc_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span><span class="p">)</span>

		<span class="n">doc_id_to_summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span>
		<span class="n">hybrid_summary_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">hybrid_doc_ids</span><span class="p">]</span>
		<span class="n">doc_summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">hybrid_summary_ids</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">_summary_nodes</span> <span class="o">=</span> <span class="n">doc_summary_nodes</span>
		<span class="n">final_doc_ids</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">aselect</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

		<span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_retrieve</span><span class="p">(</span>
			<span class="n">final_doc_ids</span><span class="o">=</span><span class="n">final_doc_ids</span><span class="p">,</span>
			<span class="n">item_to_be_retrieved</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
		<span class="p">)</span>

		<span class="n">final_nodes</span> <span class="o">=</span> <span class="n">content_nodes</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_summary</span><span class="p">:</span>
			<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>

		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_context</span><span class="p">:</span>
			<span class="n">context_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_context</span><span class="p">(</span><span class="n">content_nodes</span><span class="p">)</span>
			<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">context_nodes</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="n">final_nodes</span>
		<span class="k">return</span> <span class="n">final_nodes</span>


	<span class="nd">@classmethod</span>
	<span class="k">def</span> <span class="nf">from_storage</span><span class="p">(</span>
		<span class="bp">cls</span><span class="p">,</span>
		<span class="n">llm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LLM</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">embed_model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseEmbedding</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">vector_persist_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">paper_summary_persist_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">vector_similarity_top_k</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PAPER_VECTOR_TOP_K</span><span class="p">,</span>
		<span class="n">summary_similarity_top_k</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PAPER_SUMMARY_TOP_K</span><span class="p">,</span>
		<span class="n">service_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">docs_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PAPER_TOP_K</span><span class="p">,</span>
		<span class="n">re_retrieve_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PAPER_RETRIEVE_TOP_K</span><span class="p">,</span>
		<span class="n">final_use_context</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
		<span class="n">final_use_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
	<span class="p">):</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Load from an existing storage.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
			<span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">parent</span>

		<span class="n">llm</span> <span class="o">=</span> <span class="n">llm</span> <span class="ow">or</span> <span class="n">llm_from_settings_or_context</span><span class="p">(</span><span class="n">Settings</span><span class="p">,</span> <span class="n">service_context</span><span class="p">)</span>
		<span class="n">embed_model</span> <span class="o">=</span> <span class="n">embed_model</span> <span class="ow">or</span> <span class="n">embed_model_from_settings_or_context</span><span class="p">(</span><span class="n">Settings</span><span class="p">,</span> <span class="n">service_context</span><span class="p">)</span>

		<span class="n">vector_persist_dir</span> <span class="o">=</span> <span class="n">vector_persist_dir</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">/</span> <span class="n">DEFAULT_PAPER_VECTOR_PERSIST_DIR</span>
		<span class="n">vector_storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="n">vector_persist_dir</span><span class="p">)</span>
		<span class="n">vector_index</span> <span class="o">=</span> <span class="n">load_index_from_storage</span><span class="p">(</span>
			<span class="n">storage_context</span><span class="o">=</span><span class="n">vector_storage_context</span><span class="p">,</span>
			<span class="n">index_id</span><span class="o">=</span><span class="n">PAPER_VECTOR_INDEX_ID</span><span class="p">,</span>
			<span class="n">embed_model</span><span class="o">=</span><span class="n">embed_model</span>
		<span class="p">)</span>
		<span class="n">vector_retriever</span> <span class="o">=</span> <span class="n">vector_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="n">vector_similarity_top_k</span><span class="p">)</span>

		<span class="n">paper_summary_persist_dir</span> <span class="o">=</span> <span class="n">paper_summary_persist_dir</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">/</span> <span class="n">DEFAULT_PAPER_SUMMARY_PERSIST_DIR</span>
		<span class="n">paper_summary_storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="n">paper_summary_persist_dir</span><span class="p">)</span>
		<span class="n">paper_summary_index</span> <span class="o">=</span> <span class="n">load_index_from_storage</span><span class="p">(</span>
			<span class="n">storage_context</span><span class="o">=</span><span class="n">paper_summary_storage_context</span><span class="p">,</span>
			<span class="n">index_id</span><span class="o">=</span><span class="n">PAPER_SUMMARY_INDEX_ID</span><span class="p">,</span>
			<span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
			<span class="n">embed_model</span><span class="o">=</span><span class="n">embed_model</span>
		<span class="p">)</span>
		<span class="n">summary_retriever</span> <span class="o">=</span> <span class="n">paper_summary_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
			<span class="n">retriever_mode</span><span class="o">=</span><span class="n">DocumentSummaryRetrieverMode</span><span class="o">.</span><span class="n">EMBEDDING</span><span class="p">,</span>
			<span class="n">similarity_top_k</span><span class="o">=</span><span class="n">summary_similarity_top_k</span><span class="p">)</span>
		<span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
			<span class="n">llm</span> <span class="o">=</span> <span class="n">llm</span><span class="p">,</span>
			<span class="n">paper_vector_retriever</span><span class="o">=</span><span class="n">vector_retriever</span><span class="p">,</span>
			<span class="n">paper_summary_retriever</span><span class="o">=</span><span class="n">summary_retriever</span><span class="p">,</span>
			<span class="n">docs_top_k</span><span class="o">=</span><span class="n">docs_top_k</span><span class="p">,</span>
			<span class="n">re_retrieve_top_k</span><span class="o">=</span><span class="n">re_retrieve_top_k</span><span class="p">,</span>
			<span class="n">final_use_context</span><span class="o">=</span><span class="n">final_use_context</span><span class="p">,</span>
			<span class="n">final_use_summary</span><span class="o">=</span><span class="n">final_use_summary</span><span class="p">,</span>
		<span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.aretrieve" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperRetriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.aretrieve" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>This tool is used to retrieve academic information in the Laboratory's shared paper database, which contains
abundant research papers. It is useful to help you to answer the user's academic questions.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>item_to_be_retrieved</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The things that you want to retrieve in the shared paper database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dispatcher</span><span class="o">.</span><span class="n">span</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">aretrieve</span><span class="p">(</span>
	<span class="bp">self</span><span class="p">,</span>
	<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	This tool is used to retrieve academic information in the Laboratory&#39;s shared paper database, which contains</span>
<span class="sd">	abundant research papers. It is useful to help you to answer the user&#39;s academic questions.</span>

<span class="sd">	Args:</span>
<span class="sd">		item_to_be_retrieved (str): The things that you want to retrieve in the shared paper database.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">vector_nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
	<span class="n">summary_chunk_nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">aretrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

	<span class="n">hybrid_doc_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
	<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">summary_chunk_nodes</span> <span class="o">+</span> <span class="n">vector_nodes</span><span class="p">:</span>
		<span class="n">hybrid_doc_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span><span class="p">)</span>

	<span class="n">doc_id_to_summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span>
	<span class="n">hybrid_summary_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">hybrid_doc_ids</span><span class="p">]</span>
	<span class="n">doc_summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">hybrid_summary_ids</span><span class="p">)</span>

	<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">_summary_nodes</span> <span class="o">=</span> <span class="n">doc_summary_nodes</span>
	<span class="n">final_doc_ids</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">aselect</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

	<span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_retrieve</span><span class="p">(</span>
		<span class="n">final_doc_ids</span><span class="o">=</span><span class="n">final_doc_ids</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
	<span class="p">)</span>

	<span class="n">final_nodes</span> <span class="o">=</span> <span class="n">content_nodes</span>
	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_summary</span><span class="p">:</span>
		<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>

	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_context</span><span class="p">:</span>
		<span class="n">context_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_context</span><span class="p">(</span><span class="n">content_nodes</span><span class="p">)</span>
		<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">context_nodes</span><span class="p">)</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="n">final_nodes</span>
	<span class="k">return</span> <span class="n">final_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.from_storage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperRetriever</span><span class="o">.</span><span class="n">from_storage</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">embed_model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vector_persist_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">paper_summary_persist_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vector_similarity_top_k</span><span class="o">=</span><span class="n">PAPER_VECTOR_TOP_K</span><span class="p">,</span> <span class="n">summary_similarity_top_k</span><span class="o">=</span><span class="n">PAPER_SUMMARY_TOP_K</span><span class="p">,</span> <span class="n">service_context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">docs_top_k</span><span class="o">=</span><span class="n">PAPER_TOP_K</span><span class="p">,</span> <span class="n">re_retrieve_top_k</span><span class="o">=</span><span class="n">PAPER_RETRIEVE_TOP_K</span><span class="p">,</span> <span class="n">final_use_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">final_use_summary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.from_storage" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Load from an existing storage.</p>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_storage</span><span class="p">(</span>
	<span class="bp">cls</span><span class="p">,</span>
	<span class="n">llm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LLM</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="n">embed_model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseEmbedding</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="n">vector_persist_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="n">paper_summary_persist_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="n">vector_similarity_top_k</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PAPER_VECTOR_TOP_K</span><span class="p">,</span>
	<span class="n">summary_similarity_top_k</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PAPER_SUMMARY_TOP_K</span><span class="p">,</span>
	<span class="n">service_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="n">docs_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PAPER_TOP_K</span><span class="p">,</span>
	<span class="n">re_retrieve_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PAPER_RETRIEVE_TOP_K</span><span class="p">,</span>
	<span class="n">final_use_context</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
	<span class="n">final_use_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Load from an existing storage.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
		<span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">parent</span>

	<span class="n">llm</span> <span class="o">=</span> <span class="n">llm</span> <span class="ow">or</span> <span class="n">llm_from_settings_or_context</span><span class="p">(</span><span class="n">Settings</span><span class="p">,</span> <span class="n">service_context</span><span class="p">)</span>
	<span class="n">embed_model</span> <span class="o">=</span> <span class="n">embed_model</span> <span class="ow">or</span> <span class="n">embed_model_from_settings_or_context</span><span class="p">(</span><span class="n">Settings</span><span class="p">,</span> <span class="n">service_context</span><span class="p">)</span>

	<span class="n">vector_persist_dir</span> <span class="o">=</span> <span class="n">vector_persist_dir</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">/</span> <span class="n">DEFAULT_PAPER_VECTOR_PERSIST_DIR</span>
	<span class="n">vector_storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="n">vector_persist_dir</span><span class="p">)</span>
	<span class="n">vector_index</span> <span class="o">=</span> <span class="n">load_index_from_storage</span><span class="p">(</span>
		<span class="n">storage_context</span><span class="o">=</span><span class="n">vector_storage_context</span><span class="p">,</span>
		<span class="n">index_id</span><span class="o">=</span><span class="n">PAPER_VECTOR_INDEX_ID</span><span class="p">,</span>
		<span class="n">embed_model</span><span class="o">=</span><span class="n">embed_model</span>
	<span class="p">)</span>
	<span class="n">vector_retriever</span> <span class="o">=</span> <span class="n">vector_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">similarity_top_k</span><span class="o">=</span><span class="n">vector_similarity_top_k</span><span class="p">)</span>

	<span class="n">paper_summary_persist_dir</span> <span class="o">=</span> <span class="n">paper_summary_persist_dir</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">/</span> <span class="n">DEFAULT_PAPER_SUMMARY_PERSIST_DIR</span>
	<span class="n">paper_summary_storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">persist_dir</span><span class="o">=</span><span class="n">paper_summary_persist_dir</span><span class="p">)</span>
	<span class="n">paper_summary_index</span> <span class="o">=</span> <span class="n">load_index_from_storage</span><span class="p">(</span>
		<span class="n">storage_context</span><span class="o">=</span><span class="n">paper_summary_storage_context</span><span class="p">,</span>
		<span class="n">index_id</span><span class="o">=</span><span class="n">PAPER_SUMMARY_INDEX_ID</span><span class="p">,</span>
		<span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
		<span class="n">embed_model</span><span class="o">=</span><span class="n">embed_model</span>
	<span class="p">)</span>
	<span class="n">summary_retriever</span> <span class="o">=</span> <span class="n">paper_summary_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
		<span class="n">retriever_mode</span><span class="o">=</span><span class="n">DocumentSummaryRetrieverMode</span><span class="o">.</span><span class="n">EMBEDDING</span><span class="p">,</span>
		<span class="n">similarity_top_k</span><span class="o">=</span><span class="n">summary_similarity_top_k</span><span class="p">)</span>
	<span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
		<span class="n">llm</span> <span class="o">=</span> <span class="n">llm</span><span class="p">,</span>
		<span class="n">paper_vector_retriever</span><span class="o">=</span><span class="n">vector_retriever</span><span class="p">,</span>
		<span class="n">paper_summary_retriever</span><span class="o">=</span><span class="n">summary_retriever</span><span class="p">,</span>
		<span class="n">docs_top_k</span><span class="o">=</span><span class="n">docs_top_k</span><span class="p">,</span>
		<span class="n">re_retrieve_top_k</span><span class="o">=</span><span class="n">re_retrieve_top_k</span><span class="p">,</span>
		<span class="n">final_use_context</span><span class="o">=</span><span class="n">final_use_context</span><span class="p">,</span>
		<span class="n">final_use_summary</span><span class="o">=</span><span class="n">final_use_summary</span><span class="p">,</span>
	<span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.get_ref_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperRetriever</span><span class="o">.</span><span class="n">get_ref_info</span><span class="p">()</span></code>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.get_ref_info" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Get the reference paper infos</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="labridge.func_modules.reference.paper.PaperInfo" href="../../../reference/paper/#labridge.func_modules.reference.paper.PaperInfo">PaperInfo</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List[PaperInfo]: The reference paper infos in answering.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_ref_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PaperInfo</span><span class="p">]:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Get the reference paper infos</span>

<span class="sd">	Returns:</span>
<span class="sd">		List[PaperInfo]: The reference paper infos in answering.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">doc_ids</span><span class="p">,</span> <span class="n">doc_titles</span><span class="p">,</span> <span class="n">doc_possessors</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
	<span class="n">ref_infos</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">node_score</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span><span class="p">:</span>
		<span class="n">ref_doc_id</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span>
		<span class="k">if</span> <span class="n">ref_doc_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">doc_ids</span><span class="p">:</span>
			<span class="n">doc_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ref_doc_id</span><span class="p">)</span>
			<span class="n">title</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_TITLE</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ref_doc_id</span>
			<span class="n">possessor</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_POSSESSOR</span><span class="p">)</span>
			<span class="n">rel_path</span> <span class="o">=</span> <span class="n">node_score</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PAPER_REL_FILE_PATH</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">rel_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid database.&quot;</span><span class="p">)</span>
			<span class="n">paper_info</span> <span class="o">=</span> <span class="n">PaperInfo</span><span class="p">(</span>
				<span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
				<span class="n">possessor</span><span class="o">=</span><span class="n">possessor</span><span class="p">,</span>
				<span class="n">file_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">/</span> <span class="n">rel_path</span><span class="p">),</span>
			<span class="p">)</span>
			<span class="n">ref_infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_info</span><span class="p">)</span>

			<span class="n">doc_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
			<span class="n">doc_possessors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">possessor</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">ref_infos</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.retrieve" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperRetriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span></code>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperRetriever.retrieve" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>This tool is used to retrieve academic information in the Laboratory's shared paper database.
It is useful to help answer the user's academic questions.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>item_to_be_retrieved</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The things that you want to retrieve in the shared paper database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dispatcher</span><span class="o">.</span><span class="n">span</span>
<span class="k">def</span> <span class="nf">retrieve</span><span class="p">(</span>
	<span class="bp">self</span><span class="p">,</span>
	<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeWithScore</span><span class="p">]:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	This tool is used to retrieve academic information in the Laboratory&#39;s shared paper database.</span>
<span class="sd">	It is useful to help answer the user&#39;s academic questions.</span>

<span class="sd">	Args:</span>
<span class="sd">		item_to_be_retrieved (str): The things that you want to retrieve in the shared paper database.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="c1"># This docstring is used as the tool description.</span>
	<span class="n">vector_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_vector_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>
	<span class="n">summary_chunk_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

	<span class="n">hybrid_doc_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
	<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">summary_chunk_nodes</span> <span class="o">+</span> <span class="n">vector_nodes</span><span class="p">:</span>
		<span class="n">hybrid_doc_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span><span class="p">)</span>

	<span class="n">doc_id_to_summary_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">_index_struct</span><span class="o">.</span><span class="n">doc_id_to_summary_id</span>
	<span class="n">hybrid_summary_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc_id_to_summary_id</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">hybrid_doc_ids</span><span class="p">]</span>
	<span class="n">doc_summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_retriever</span><span class="o">.</span><span class="n">_index</span><span class="o">.</span><span class="n">docstore</span><span class="o">.</span><span class="n">get_nodes</span><span class="p">(</span><span class="n">hybrid_summary_ids</span><span class="p">)</span>

	<span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">_summary_nodes</span> <span class="o">=</span> <span class="n">doc_summary_nodes</span>
	<span class="n">final_doc_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">paper_summary_post_selector</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span>

	<span class="n">summary_nodes</span><span class="p">,</span> <span class="n">content_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_retrieve</span><span class="p">(</span>
		<span class="n">final_doc_ids</span><span class="o">=</span><span class="n">final_doc_ids</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
	<span class="p">)</span>

	<span class="n">final_nodes</span> <span class="o">=</span> <span class="n">content_nodes</span>
	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_summary</span><span class="p">:</span>
		<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>

	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">final_use_context</span><span class="p">:</span>
		<span class="n">context_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_context</span><span class="p">(</span><span class="n">content_nodes</span><span class="p">)</span>
		<span class="n">final_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">context_nodes</span><span class="p">)</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="n">final_nodes</span>
	<span class="k">return</span> <span class="n">final_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector" class="doc doc-heading">
            <code>labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector</code>


<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Use LLM to re-rank the retrieved papers obtained by vector_retriever and summary_retriever,
according to their summaries.</p>

              <details class="quote">
                <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PaperSummaryLLMPostSelector</span><span class="p">:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Use LLM to re-rank the retrieved papers obtained by vector_retriever and summary_retriever,</span>
<span class="sd">	according to their summaries.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">summary_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseNode</span><span class="p">],</span>
		<span class="n">llm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LLM</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">choice_select_prompt</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BasePromptTemplate</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">choice_batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">choice_top_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">format_node_batch_fn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
		<span class="n">parse_choice_select_answer_fn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
	<span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span> <span class="o">=</span> <span class="n">summary_nodes</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_choice_select_prompt</span> <span class="o">=</span> <span class="p">(</span><span class="n">choice_select_prompt</span> <span class="ow">or</span> <span class="n">DOC_CHOICE_SELECT_PROMPT</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span> <span class="o">=</span> <span class="n">choice_batch_size</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_choice_top_k</span> <span class="o">=</span> <span class="n">choice_top_k</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_format_node_batch_fn</span> <span class="o">=</span> <span class="p">(</span><span class="n">format_node_batch_fn</span> <span class="ow">or</span> <span class="n">default_format_node_batch_fn</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_parse_choice_select_answer_fn</span> <span class="o">=</span> <span class="p">(</span><span class="n">parse_choice_select_answer_fn</span> <span class="ow">or</span> <span class="n">default_parse_choice_select_answer_fn</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_llm</span> <span class="o">=</span> <span class="n">llm</span> <span class="ow">or</span> <span class="n">Settings</span><span class="o">.</span><span class="n">llm</span>

	<span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Select from the paper summaries according to the relevance to the retrieving string.</span>

<span class="sd">		Args:</span>
<span class="sd">			item_to_be_retrieved (str): The retrieving string.</span>

<span class="sd">		Return the ref_doc_ids, titles, possessors of the selected docs.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">all_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">all_relevances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">):</span>
			<span class="n">summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">]</span>
			<span class="n">fmt_batch_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_node_batch_fn</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>
			<span class="c1"># call each batch independently</span>
			<span class="n">raw_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_llm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_choice_select_prompt</span><span class="p">,</span>
				<span class="n">context_str</span><span class="o">=</span><span class="n">fmt_batch_str</span><span class="p">,</span>
				<span class="n">query_str</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
			<span class="p">)</span>

			<span class="n">raw_choices</span><span class="p">,</span> <span class="n">relevances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_choice_select_answer_fn</span><span class="p">(</span><span class="n">raw_response</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">))</span>
			<span class="n">choice_idxs</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">raw_choices</span><span class="p">]</span>

			<span class="n">choice_summary_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">summary_nodes</span><span class="p">[</span><span class="n">ci</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span> <span class="ow">in</span> <span class="n">choice_idxs</span><span class="p">]</span>

			<span class="n">all_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">choice_summary_nodes</span><span class="p">)</span>
			<span class="n">all_relevances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">relevances</span><span class="p">)</span>

		<span class="n">zipped_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">,</span> <span class="n">all_relevances</span><span class="p">))</span>
		<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">zipped_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">top_k_list</span> <span class="o">=</span> <span class="n">sorted_list</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_top_k</span><span class="p">]</span>

		<span class="n">doc_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">relevance</span> <span class="ow">in</span> <span class="n">top_k_list</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">doc_ids</span>

	<span class="k">async</span> <span class="k">def</span> <span class="nf">aselect</span><span class="p">(</span>
		<span class="bp">self</span><span class="p">,</span>
		<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
	<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">		</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Asynchronously select from the paper summaries according to the relevance to the retrieving string.</span>

<span class="sd">		Args:</span>
<span class="sd">			item_to_be_retrieved (str): The retrieving string.</span>

<span class="sd">		Return the ref_doc_ids, titles, possessors of the selected docs.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">all_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">all_relevances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">):</span>
			<span class="n">summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">]</span>
			<span class="n">fmt_batch_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_node_batch_fn</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>
			<span class="c1"># call each batch independently</span>
			<span class="n">raw_response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_llm</span><span class="o">.</span><span class="n">apredict</span><span class="p">(</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_choice_select_prompt</span><span class="p">,</span>
				<span class="n">context_str</span><span class="o">=</span><span class="n">fmt_batch_str</span><span class="p">,</span>
				<span class="n">query_str</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
			<span class="p">)</span>
			<span class="n">raw_choices</span><span class="p">,</span> <span class="n">relevances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_choice_select_answer_fn</span><span class="p">(</span><span class="n">raw_response</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">))</span>
			<span class="n">choice_idxs</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">raw_choices</span><span class="p">]</span>

			<span class="n">choice_summary_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">summary_nodes</span><span class="p">[</span><span class="n">ci</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span> <span class="ow">in</span> <span class="n">choice_idxs</span><span class="p">]</span>

			<span class="n">all_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">choice_summary_nodes</span><span class="p">)</span>
			<span class="n">all_relevances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">relevances</span><span class="p">)</span>

		<span class="n">zipped_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">,</span> <span class="n">all_relevances</span><span class="p">))</span>
		<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">zipped_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">top_k_list</span> <span class="o">=</span> <span class="n">sorted_list</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_top_k</span><span class="p">]</span>

		<span class="n">doc_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">relevance</span> <span class="ow">in</span> <span class="n">top_k_list</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">doc_ids</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.aselect" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperSummaryLLMPostSelector</span><span class="o">.</span><span class="n">aselect</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.aselect" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Asynchronously select from the paper summaries according to the relevance to the retrieving string.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>item_to_be_retrieved</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The retrieving string.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Return the ref_doc_ids, titles, possessors of the selected docs.</p>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">aselect</span><span class="p">(</span>
	<span class="bp">self</span><span class="p">,</span>
	<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Asynchronously select from the paper summaries according to the relevance to the retrieving string.</span>

<span class="sd">	Args:</span>
<span class="sd">		item_to_be_retrieved (str): The retrieving string.</span>

<span class="sd">	Return the ref_doc_ids, titles, possessors of the selected docs.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">all_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">all_relevances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">):</span>
		<span class="n">summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">]</span>
		<span class="n">fmt_batch_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_node_batch_fn</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>
		<span class="c1"># call each batch independently</span>
		<span class="n">raw_response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_llm</span><span class="o">.</span><span class="n">apredict</span><span class="p">(</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_choice_select_prompt</span><span class="p">,</span>
			<span class="n">context_str</span><span class="o">=</span><span class="n">fmt_batch_str</span><span class="p">,</span>
			<span class="n">query_str</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
		<span class="p">)</span>
		<span class="n">raw_choices</span><span class="p">,</span> <span class="n">relevances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_choice_select_answer_fn</span><span class="p">(</span><span class="n">raw_response</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">))</span>
		<span class="n">choice_idxs</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">raw_choices</span><span class="p">]</span>

		<span class="n">choice_summary_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">summary_nodes</span><span class="p">[</span><span class="n">ci</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span> <span class="ow">in</span> <span class="n">choice_idxs</span><span class="p">]</span>

		<span class="n">all_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">choice_summary_nodes</span><span class="p">)</span>
		<span class="n">all_relevances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">relevances</span><span class="p">)</span>

	<span class="n">zipped_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">,</span> <span class="n">all_relevances</span><span class="p">))</span>
	<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">zipped_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
	<span class="n">top_k_list</span> <span class="o">=</span> <span class="n">sorted_list</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_top_k</span><span class="p">]</span>

	<span class="n">doc_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">relevance</span> <span class="ow">in</span> <span class="n">top_k_list</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">doc_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.select" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labridge</span><span class="o">.</span><span class="n">func_modules</span><span class="o">.</span><span class="n">paper</span><span class="o">.</span><span class="n">retrieve</span><span class="o">.</span><span class="n">paper_retriever</span><span class="o">.</span><span class="n">PaperSummaryLLMPostSelector</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">item_to_be_retrieved</span><span class="p">)</span></code>

<a href="#labridge.func_modules.paper.retrieve.paper_retriever.PaperSummaryLLMPostSelector.select" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Select from the paper summaries according to the relevance to the retrieving string.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>item_to_be_retrieved</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The retrieving string.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Return the ref_doc_ids, titles, possessors of the selected docs.</p>

            <details class="quote">
              <summary>Source code in <code>labridge\func_modules\paper\retrieve\paper_retriever.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
	<span class="bp">self</span><span class="p">,</span>
	<span class="n">item_to_be_retrieved</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">	</span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Select from the paper summaries according to the relevance to the retrieving string.</span>

<span class="sd">	Args:</span>
<span class="sd">		item_to_be_retrieved (str): The retrieving string.</span>

<span class="sd">	Return the ref_doc_ids, titles, possessors of the selected docs.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">all_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">all_relevances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">):</span>
		<span class="n">summary_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_summary_nodes</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_batch_size</span><span class="p">]</span>
		<span class="n">fmt_batch_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_node_batch_fn</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">)</span>
		<span class="c1"># call each batch independently</span>
		<span class="n">raw_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_llm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_choice_select_prompt</span><span class="p">,</span>
			<span class="n">context_str</span><span class="o">=</span><span class="n">fmt_batch_str</span><span class="p">,</span>
			<span class="n">query_str</span><span class="o">=</span><span class="n">item_to_be_retrieved</span><span class="p">,</span>
		<span class="p">)</span>

		<span class="n">raw_choices</span><span class="p">,</span> <span class="n">relevances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_choice_select_answer_fn</span><span class="p">(</span><span class="n">raw_response</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">summary_nodes</span><span class="p">))</span>
		<span class="n">choice_idxs</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">raw_choices</span><span class="p">]</span>

		<span class="n">choice_summary_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">summary_nodes</span><span class="p">[</span><span class="n">ci</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span> <span class="ow">in</span> <span class="n">choice_idxs</span><span class="p">]</span>

		<span class="n">all_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">choice_summary_nodes</span><span class="p">)</span>
		<span class="n">all_relevances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">relevances</span><span class="p">)</span>

	<span class="n">zipped_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">,</span> <span class="n">all_relevances</span><span class="p">))</span>
	<span class="n">sorted_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">zipped_list</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
	<span class="n">top_k_list</span> <span class="o">=</span> <span class="n">sorted_list</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choice_top_k</span><span class="p">]</span>

	<span class="n">doc_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">ref_doc_id</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">relevance</span> <span class="ow">in</span> <span class="n">top_k_list</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">doc_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../prompt/synthesize/synthesize/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Synthesize">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Synthesize
              </div>
            </div>
          </a>
        
        
          
          <a href="../temporary_paper_retriever/" class="md-footer__link md-footer__link--next" aria-label="Next: Temporary paper retriever">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Temporary paper retriever
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 A-Duiduidui Team.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.footer", "navigation.path", "toc.follow", "search.highlight", "search.share", "search.suggest", "content.action.view", "content.action.edit", "content.tabs.link", "content.code.copy", "content.code.select", "content.code.annotations"], "search": "../../../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>